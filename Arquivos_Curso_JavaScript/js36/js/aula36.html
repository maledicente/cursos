<!doctype html>
<html lang="pt-br">
	<head>
		<title>CFB Cursos - Javascript</title>
		<meta charset="utf-8"/>
		<style>
			#dv1{
				width:100px;
				height:100px;
				border:1px solid #000;
				background-color: #fff;
				position:absolute;
				left:0px;
				top:0px; 
			}
		</style>
		<script>

			var px=0;
			var py=0;
			var obj;

			function move(){
				var tecla=event.keyCode;
				//37=Esquerda - 38=cima - 39=direita - 40=baixo
				if(tecla==37){
					px-=10;
					obj.style.left=px+"px";
				}else if(tecla==38){
					py-=10;
					obj.style.top=py+"px";
				}else if(tecla==39){
					px+=10;
					obj.style.left=px+"px";
				}else if(tecla==40){
					py+=10;
					obj.style.top=py+"px";
				}else if(tecla==13){
					obj.style.backgroundColor="#fff";
					alert("Evento keydown removido");
					document.removeEventListener("keydown",move);
				}				
			}

			function addClique(){
				document.addEventListener("keydown",move);
				obj.style.backgroundColor="#f00";
			}

			function iniciar(){
				obj=document.getElementById("dv1");
				obj.addEventListener("click",addClique);
			}
			
			window.addEventListener("load",iniciar);

		</script>
	</head>
	<body>

		<div id="dv1"></div>

	</body>
</html> 